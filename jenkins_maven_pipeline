pipeline {
    angent {label 'slave' }
        tools{
   maven 'maven_test'
    stages{
        stage('checkout _scm'){
            steps {
                checkout scm
            }
        }
        stages('maven_build'){
            steps {
                sh 'mvn clean package'
            }
        }
        stage('Deploy_Tomca'){
            sshagent('Tomcat-Deployment-server'){
                sh "scp -scp -o StrictHostKeyChecking=no  target/maven-web-application.war  ec2-user@52.66.196.158:/opt/tomcat9/webapps"
            }
        }
    }
}
}
